# Extracted Firmware Configurations

Configuration tree files (`hw_ctree.xml`, `hw_default_ctree.xml`) extracted
from Huawei ONT firmware images.

## Source Firmwares

| Directory | Firmware | Version | ctree size | default_ctree size |
|-----------|----------|---------|------------|-------------------|
| `EG8145V5-V500R022C00SPC340B019/` | EG8145V5-V500R022C00SPC340B019 | V500R022C00SPC340B019 | 19,128 B | 19,128 B |
| `HG8145C-V5R019C00S105/` | HG8145C-V5R019C00S105 | V300R017C10SPC208B261 | 18,216 B | 18,216 B |
| `HG8145C_17120_ENG/` | HG8145C_17120_ENG | V300R017C10SPC120B153 | 16,968 B | 16,968 B |
| `HG8145V5-V500R020C10SPC212/` | HG8145V5-V500R020C10SPC212 | V500R020C10SPC212B465 | 18,760 B | 18,760 B |
| `HG8245C-8145C-BLUE-R019-xpon/` | HG8245C-8145C-BLUE-R019-xpon | V300R017C10SPC125B176 | 18,216 B | 18,216 B |
| `HN8145XR-V500R022C10SPC160/` | HN8145XR-V500R022C10SPC160 | N/A | 19,144 B | 19,144 B |

## File Details

### EG8145V5-V500R022C00SPC340B019

**Version:** `V500R022C00SPC340B019`

**hw_ctree.xml** — 19,128 bytes

- MD5: `afdde52804c89fa67bc57bad9e21f90e`
- SHA-256: `c2dc2614e26ac4790d5538dc719301ef885bbd9710a0167b4e714f6ac38b7ac9`
- Header (first 16 bytes): `01000000066e2177998141e9f23f9d86`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 19,128 bytes

- MD5: `afdde52804c89fa67bc57bad9e21f90e`
- SHA-256: `c2dc2614e26ac4790d5538dc719301ef885bbd9710a0167b4e714f6ac38b7ac9`
- Header (first 16 bytes): `01000000066e2177998141e9f23f9d86`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

### HG8145C-V5R019C00S105

**Version:** `V300R017C10SPC208B261`

**hw_ctree.xml** — 18,216 bytes

- MD5: `41b2c8659b668411abe443cce564530c`
- SHA-256: `e754c331533991524038adf2b381d8dfe5aff98f798ac111f39747ce8331c48a`
- Header (first 16 bytes): `01000000b2607dc9dae9f49938a578d5`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 18,216 bytes

- MD5: `41b2c8659b668411abe443cce564530c`
- SHA-256: `e754c331533991524038adf2b381d8dfe5aff98f798ac111f39747ce8331c48a`
- Header (first 16 bytes): `01000000b2607dc9dae9f49938a578d5`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

### HG8145C_17120_ENG

**Version:** `V300R017C10SPC120B153`

**hw_ctree.xml** — 16,968 bytes

- MD5: `847f389eb0c0b5b56f1cfb636c32fbcc`
- SHA-256: `6c445b6d606ce4fcc8a55b80884143037b96467d24717a8575cd6a1bf8304cb2`
- Header (first 16 bytes): `01000000c30686cde145069359802266`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 16,968 bytes

- MD5: `847f389eb0c0b5b56f1cfb636c32fbcc`
- SHA-256: `6c445b6d606ce4fcc8a55b80884143037b96467d24717a8575cd6a1bf8304cb2`
- Header (first 16 bytes): `01000000c30686cde145069359802266`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

### HG8145V5-V500R020C10SPC212

**Version:** `V500R020C10SPC212B465`

**hw_ctree.xml** — 18,760 bytes

- MD5: `5ed90655caf761149e6ff6c2b44d722b`
- SHA-256: `0441738f59a63a146cb0d0891c87c3264829ac09233159cda0512f6d1e8cb628`
- Header (first 16 bytes): `0100000023dca5b1f5a20a326e85caef`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 18,760 bytes

- MD5: `5ed90655caf761149e6ff6c2b44d722b`
- SHA-256: `0441738f59a63a146cb0d0891c87c3264829ac09233159cda0512f6d1e8cb628`
- Header (first 16 bytes): `0100000023dca5b1f5a20a326e85caef`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

### HG8245C-8145C-BLUE-R019-xpon

**Version:** `V300R017C10SPC125B176`

**hw_ctree.xml** — 18,216 bytes

- MD5: `41dafeda5f8677780841045554922db3`
- SHA-256: `ba43e97a9752af1b33fe9ff543a6cf9e6741b3b5255c33a1e0b65503c587b1c9`
- Header (first 16 bytes): `0100000053b955f4dae9f49938a578d5`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 18,216 bytes

- MD5: `41dafeda5f8677780841045554922db3`
- SHA-256: `ba43e97a9752af1b33fe9ff543a6cf9e6741b3b5255c33a1e0b65503c587b1c9`
- Header (first 16 bytes): `0100000053b955f4dae9f49938a578d5`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

### HN8145XR-V500R022C10SPC160

**hw_ctree.xml** — 19,144 bytes

- MD5: `9915f5b415e721f631ce24544b77bb30`
- SHA-256: `11254f34b3f232f4184186d4ca7f63f4f65aa6828c106fc8eb0eff44360d8308`
- Header (first 16 bytes): `010000009bf6d579310e88a4a027fd1a`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

**hw_default_ctree.xml** — 19,144 bytes

- MD5: `9915f5b415e721f631ce24544b77bb30`
- SHA-256: `11254f34b3f232f4184186d4ca7f63f4f65aa6828c106fc8eb0eff44360d8308`
- Header (first 16 bytes): `010000009bf6d579310e88a4a027fd1a`
- Format header `01000000`: Yes
- Plaintext XML: No (encrypted)

> ℹ️ `hw_ctree.xml` and `hw_default_ctree.xml` are **identical** in this firmware.

## Encryption

All `hw_ctree.xml` files in firmware images are **encrypted**.
The encryption uses AES with a key derived from the device's
hardware e-fuse, making each device's key unique.

### Key Derivation

```
e-fuse (hardware root-of-trust, unique per device)
  └─► keyfile partition (encrypted work key stored in flash)
       └─► AES-256-CBC key for hw_ctree.xml
```

The simpler chip-ID key method (`Df7!ui<chip_id>9(lmV1L8`)
is used only for **config backup files** exported via the web
management interface, not for the factory-default ctree embedded
in firmware images.

### Known Chip IDs (for backup config decryption only)

- `SD5116H`
- `SD5115H`
- `SD5118`
- `SD5116T`
- `5116H`
- `5115H`

## Extraction Tool

These files were extracted using `tools/ctree_extract.py`:

```bash
python tools/ctree_extract.py -o extracted_configs
```